VAST-TOOLS
==========

Summary
-------
VAST-TOOLS is a toolset for profiling alternative splicing events in RNA-Seq data. 

Installation
------------

VAST-TOOLS requires the following software:
    * bowtie (Langmead et al., 2009), http://bowtie-bio.sourceforge.net/index.shtml
    * samtools (Li et al., 2009), http://samtools.sourceforge.net

Optional software:
    * pigz - a parallel implementation of gzip, http://zlib.net/pigz/

If pigz is installed, VAST-TOOLS will use the user-specified number of cores
(see usage) to carry out file compression. This will help speed up the runtime.

Quick Usage
-----------

VAST-TOOLS contains four main sub-commands: align, combine, diff, and plot. The
following provides a quick introduction on how to run the tool:

**Alignment:**
> vast-tools align input1.fq.gz -readLen 158 -o outputdir
> vast-tools align input2.fq.gz -readLen 158 -o outputdir

#TODO From MI - need to revise
fastq_file can be compressed or uncompressed. It MUST have this name format: Sample-readlength.fq
Only underscores (\"_\") are allowed in the Sample name. No dashes, dots, spaces, etc.
If running with the paired end option (\"\-PE\"), they must be called: Sample_1-length.fq Sample_2-length.fq
The process can be started with \"genome substracted\" samples if a Sample-lenght-e.fq is used
Species implemented: Human (hg19) or Mouse (mm9)
For expression analyses: -expr (PSIs plus cRPKM calculations) OR -exprONLY (only cRPKMs) OR none
For trimming, it can be trimmed once (at 3') or twice (in an overlapping manner).
If nothing is provided, the program will decide based on the length of the reads (Default is twice if length>50)
-c N: Number of threds used when running bowtie (default=1).
Recommended to allow at least 15GB of RAM (~10GB are needed for mapping to the genome). For large files (~1 lane), >25GB
###

**Combining Results:**
#TODO description

> vast-tools combine -o outputdir

**Differential Splicing Analysis**
#TODO description

> vast-tools diff -a sampleA_rep1@sampleA_rep2 -b sampleB_rep1@sampleB_rep2 -o outputdir --filter > significant_events.tab

**Plotting:**

VAST-TOOLS comes with a plotting script written in R (./R/psiplotter.R).
The input format follows the same format from the "combine" step described
above. The output is a pdf of scatterplots (one per AS event) of PSI values.
To execute from VAST-TOOLS, use the subcommand "plot":

> vast-tools plot significant_events.tab

It is recommended to filter the input file to a subset of events of interest
before plotting, such as those obtained from "vast-tools diff". Otherwise, the
resulting pdf file will be very large.

Questions 
---------
Send questions to mirimia@gmail.com.

Please send the smallest example necessary to the in order to reproduce the error. 

Issues
------
Please report all bugs and issues using the issue tracker on GitHub (url
coming soon!)

Authors
-------
Manuel Irimia
Kevin Ha
Tim Sterne-Weiler

Citation
--------
Coming soon...

References
----------

Langmead, B., Trapnell, C., Pop, M., Salzberg, S.L., 2009. Ultrafast and
memory-efficient alignment of short DNA sequences to the human genome. Genome
Biol. 10, R25.

Li, H., Handsaker, B., Wysoker, A., Fennell, T., Ruan, J., Homer, N., Marth, G.,
Abecasis, G., Durbin, R., 2009. The Sequence Alignment/Map format and SAMtools.
Bioinformatics 25, 2078â€“9.
